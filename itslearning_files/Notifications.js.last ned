function Notifications(d){function g(b,e){CCL.CommonFunctions.safeAjaxPost({url:a.settings.webMethods.plannerToggleFavoriteServiceUrl,data:{plannerShareableObjectId:b,makeFavorite:e}}).done(function(){var b=window[a.settings.previewModalClientId].getHeader();if(b=$("h2",b))b=b.find("."+a.settings.css.favoriteBaseImgCss),e?b.removeClass(a.settings.css.favoriteOffImgCss).prop("title",a.settings.terms.favoriteOnTooltip):b.addClass(a.settings.css.favoriteOffImgCss).prop("title",a.settings.terms.favoriteOffTooltip)}).fail(h)}
function k(b){CCL.CommonFunctions.safeAjaxPost({url:a.settings.webMethods.getFavoriteInfoServiceUrl,data:{plannerShareableObjectId:b}}).done(function(a){m(b,a.isFavorite,a.title,a.isValid)}).fail(h)}function h(b){b.status>=CCL.CommonConstants.httpStatusCodes.badRequest&&($.alerts.okButton=a.settings.terms.ok,jAlert(a.settings.terms.errorMessage,a.settings.terms.alertDialogTitle),CssModal.closeDialog())}function m(b,e,l,c){var f=window[a.settings.previewModalClientId].getHeader();if(f=$("h2",f)){f.empty();
if(c){c=$("<a>").appendTo(f).prop("href","#").addClass(a.settings.css.favoriteLinkCss);var d=$("<img>").appendTo(c).prop("src",a.settings.onePixelTransparentImageUrl).addClass(a.settings.css.favoriteBaseImgCss).prop("title",e?a.settings.terms.favoriteOnTooltip:a.settings.terms.favoriteOffTooltip);e||d.addClass(a.settings.css.favoriteOffImgCss);c.click(function(){var c=d.hasClass(a.settings.css.favoriteOffImgCss);g(b,c);return!1})}f.append(l)}}window[d]=this;var a=this;a.initialize=function(b){a.settings=
b};a.openPreviewTopicPlan=function(b,e){var d=a.settings.terms.loading,c=window[a.settings.previewModalClientId];c.setIframeUrl(e);c.setIframeTitle(d);e=c.getHeaderContainer()[0];e.getElementsByTagName("h2").length||e.prepend(document.createElement("h2"));c.setTitle(d);k(b);c.openDialog()};a.expandNewlyAddedElementsList=function(b,e,d){b=$(b);var c=b.closest("[data-"+a.settings.dataAttributes.listOfElementsPlaceholder+"]"),f=c.find("[data-"+a.settings.dataAttributes.listOfElements+"]");0<f.length?
f.toggle():b.data("clicked")||(b.data("clicked",!0),$.ajax({type:"GET",url:a.settings.webMethods.getElementsLinksUrl,timeout:2E3,data:{groupNotificationId:e,parentFolderId:d}}).done(function(a){c.append(a)}).fail(h));return!1};return a}Notifications.openPreviewTopicPlan=function(d,g,k){return window[d].openPreviewTopicPlan(g,k)};Notifications.expandNewlyAddedElementsList=function(d,g,k,h){return window[d].expandNewlyAddedElementsList(g,k,h)};

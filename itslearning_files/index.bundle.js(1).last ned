!function(){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(){}function l(t,e){for(var n in e)t[n]=e[n];return t}function i(t,e){for(var n in e)t[n]=1;return t}function N(t,e){t.appendChild(e)}function A(t,e,n){t.insertBefore(e,n)}function S(t){t.parentNode.removeChild(t)}function m(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function x(t){return document.createElement(t)}function O(t){return document.createTextNode(t)}function a(){return document.createComment("")}function p(t,e,n,s){t.addEventListener(e,n,s)}function _(t,e,n,s){t.removeEventListener(e,n,s)}function D(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function P(t,e){t.data=""+e}function u(t,e){for(var n={},s={},i={},o=t.length;o--;){var r=t[o],a=e[o];if(a){for(var c in r)c in a||(s[c]=1);for(var c in a)i[c]||(n[c]=a[c],i[c]=1);t[o]=a}else for(var c in r)i[c]=1}for(var c in s)c in n||(n[c]=void 0);return n}function c(){return Object.create(null)}function o(t,e){return t!=t?e==e:t!==e||t&&"object"===n(t)||"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e}function t(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var s=0;s<n.length;s+=1){var i=n[s];if(!i.__calling)try{i.__calling=!0,i.call(this,e)}finally{i.__calling=!1}}}function f(t){t._lock=!0,v(t._beforecreate),v(t._oncreate),v(t._aftercreate),t._lock=!1}function e(){return this._state}function d(t,e){t._handlers=c(),t._slots=c(),t._bind=e._bind,t._staged={},t.options=e,t.root=e.root||t,t.store=e.store||t.root.store,e.root||(t._beforecreate=[],t._oncreate=[],t._aftercreate=[])}function h(t,e){var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}}function v(t){for(;t&&t.length;)t.shift()()}function g(){this.store._remove(this)}var T={destroy:function(t){this.destroy=s,this.fire("destroy"),this.set=s,this._fragment.d(!1!==t),this._fragment=null,this._state={}},get:e,fire:t,on:h,set:function(t){this._set(l({},t)),this.root._lock||f(this.root)},_recompute:s,_set:function(t){var e=this._state,n={},s=!1;for(var i in t=l(this._staged,t),this._staged={},t)this._differs(t[i],e[i])&&(n[i]=s=!0);s&&(this._state=l(l({},e),t),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire("state",{changed:n,current:this._state,previous:e}),this._fragment.p(n,this._state),this.fire("update",{changed:n,current:this._state,previous:e})))},_stage:function(t){l(this._staged,t)},_mount:function(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)},_differs:o};function k(t,e){this._handlers={},this._dependents=[],this._computed=c(),this._sortedComputedProperties=[],this._state=l({},t),this._differs=e&&e.immutable?r:o}l(k.prototype,{_add:function(t,e){this._dependents.push({component:t,props:e})},_init:function(t){for(var e={},n=0;n<t.length;n+=1){var s=t[n];e["$"+s]=this._state[s]}return e},_remove:function(t){for(var e=this._dependents.length;e--;)if(this._dependents[e].component===t)return void this._dependents.splice(e,1)},_set:function(t,o){var r=this,e=this._state;this._state=l(l({},e),t);for(var n=0;n<this._sortedComputedProperties.length;n+=1)this._sortedComputedProperties[n].update(this._state,o);this.fire("state",{changed:o,previous:e,current:this._state}),this._dependents.filter(function(t){for(var e={},n=!1,s=0;s<t.props.length;s+=1){var i=t.props[s];i in o&&(e["$"+i]=r._state[i],n=!0)}if(n)return t.component._stage(e),!0}).forEach(function(t){t.component.set({})}),this.fire("update",{changed:o,previous:e,current:this._state})},_sortComputedProperties:function(){var n,s=this._computed,i=this._sortedComputedProperties=[],o=c();function r(e){var t=s[e];t&&(t.deps.forEach(function(t){if(t===n)throw new Error("Cyclical dependency detected between ".concat(t," <-> ").concat(e));r(t)}),o[e]||(o[e]=!0,i.push(t)))}for(var t in this._computed)r(n=t)},compute:function(o,r,a){var c,u=this,t={deps:r,update:function(e,n,s){var t=r.map(function(t){return t in n&&(s=!0),e[t]});if(s){var i=a.apply(null,t);u._differs(i,c)&&(c=i,n[o]=!0,e[o]=c)}}};this._computed[o]=t,this._sortComputedProperties();var e=l({},this._state),n={};t.update(e,n,!0),this._set(e,n)},fire:t,get:e,on:h,set:function(t){var e=this._state,n=this._changed={},s=!1;for(var i in t){if(this._computed[i])throw new Error("'".concat(i,"' is a read-only computed property"));this._differs(t[i],e[i])&&(n[i]=s=!0)}s&&this._set(t,n)}});var y="/restapi/personal/tasklistdailyworkflow/v1",$=function(t){return"/restapi/personal/tasklistdailyworkflow/".concat(t,"/v1")},b=function(t){return"/restapi/personal/tasklistdailyworkflow/".concat(t,"/completed/v1")},w=function(t){return"/restapi/personal/tasklistdailyworkflow/".concat(t,"/viewas/v1")};function I(n,t){var s=1<arguments.length&&void 0!==t?t:{};return new Promise(function(t,e){fetch(n,{method:"GET",mode:void 0!==s.mode?s.mode:"cors",cache:void 0!==s.cache?s.cache:"default",credentials:void 0!==s.credentials?s.credentials:"same-origin",headers:Object.assign({"Content-Type":"application/json; charset=utf-8"},s.headers)}).then(function(t){return t.json()}).then(t).catch(e)})}var C=function(t){return I(t?$(t):y).then(function(t){return t.EntityArray})},E=function(t){return I(w(t)).then(function(t){return t.EntityArray})},L=function(t){return I(b(t)).then(function(t){return t.EntityArray})};function U(t){d(this,t),this._state=l({},t.data),this._intro=!0,this._fragment=function(t,e){var n,s,i;return{c:function(){n=x("div"),s=x("span"),i=O(e.msg),n.className="tasklist__emptystate",n.tabIndex="0"},m:function(t,e){A(t,n,e),N(n,s),N(s,i)},p:function(t,e){t.msg&&P(i,e.msg)},d:function(t){t&&S(n)}}}(0,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}function H(t){d(this,t),this._state=l(this.store._init(["i18n"]),t.data),this.store._add(this,["i18n"]),this._intro=!0,this._handlers.destroy=[g],this._fragment=function(t,e){var n,s,i,o=e.$i18n.loadingState;return{c:function(){n=x("div"),s=x("span"),i=O(o),n.className="tasklist__loadingstate"},m:function(t,e){A(t,n,e),N(n,s),N(s,i)},p:function(t,e){t.$i18n&&o!==(o=e.$i18n.loadingState)&&P(i,o)},d:function(t){t&&S(n)}}}(0,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}function j(t,e){var n,s,i,o,r;return{c:function(){n=x("div"),s=x("span"),i=O("\r\n    "),o=x("span"),r=O(e.CourseTitle),s.className=e.CourseColorClass,n.className="tasklist2__course"},m:function(t,e){A(t,n,e),N(n,s),N(n,i),N(n,o),N(o,r)},p:function(t,e){t.CourseColorClass&&(s.className=e.CourseColorClass),t.CourseTitle&&P(r,e.CourseTitle)},d:function(t){t&&S(n)}}}function M(t,e){var n,s,i=e.$i18n.homework;return{c:function(){n=x("div"),s=O(i),n.className="tasklist2__info"},m:function(t,e){A(t,n,e),N(n,s)},p:function(t,e){t.$i18n&&i!==(i=e.$i18n.homework)&&P(s,i)},d:function(t){t&&S(n)}}}function Y(t,e){var n,s,i=e.$i18n.assessPeersAndYourself;return{c:function(){n=x("div"),s=O(i),n.className="tasklist2__info"},m:function(t,e){A(t,n,e),N(n,s)},p:function(t,e){t.$i18n&&i!==(i=e.$i18n.assessPeersAndYourself)&&P(s,i)},d:function(t){t&&S(n)}}}function B(t,e){var n,s,i=e.$i18n.assessPeers;return{c:function(){n=x("div"),s=O(i),n.className="tasklist2__info"},m:function(t,e){A(t,n,e),N(n,s)},p:function(t,e){t.$i18n&&i!==(i=e.$i18n.assessPeers)&&P(s,i)},d:function(t){t&&S(n)}}}function W(t,e){var n,s,i=e.$i18n.assessYourself;return{c:function(){n=x("div"),s=O(i),n.className="tasklist2__info"},m:function(t,e){A(t,n,e),N(n,s)},p:function(t,e){t.$i18n&&i!==(i=e.$i18n.assessYourself)&&P(s,i)},d:function(t){t&&S(n)}}}function G(t,e){var n,s,i,o,r=e.$i18n.deadline;return{c:function(){n=x("div"),s=O(r),i=O(": "),o=O(e.DeadlineDisplayTime)},m:function(t,e){A(t,n,e),N(n,s),N(n,i),N(n,o)},p:function(t,e){t.$i18n&&r!==(r=e.$i18n.deadline)&&P(s,r),t.DeadlineDisplayTime&&P(o,e.DeadlineDisplayTime)},d:function(t){t&&S(n)}}}function q(t,e){var n,s,i,o,r,a=e.$i18n.status;return{c:function(){n=x("div"),s=O(a),i=O(": "),o=x("span"),r=O(e.Status),o.className="tasklist2__info",n.className="tasklist2__extra__completed"},m:function(t,e){A(t,n,e),N(n,s),N(n,i),N(n,o),N(o,r)},p:function(t,e){t.$i18n&&a!==(a=e.$i18n.status)&&P(s,a),t.Status&&P(r,e.Status)},d:function(t){t&&S(n)}}}function z(t,e){var n,s,i,o,r,a=e.$i18n.grade;return{c:function(){n=x("div"),s=O(a),i=O(": "),o=x("span"),r=O(e.CompletedTaskAssessmentText),o.className="tasklist2__info",n.className="tasklist2__extra__completed"},m:function(t,e){A(t,n,e),N(n,s),N(n,i),N(n,o),N(o,r)},p:function(t,e){t.$i18n&&a!==(a=e.$i18n.grade)&&P(s,a),t.CompletedTaskAssessmentText&&P(r,e.CompletedTaskAssessmentText)},d:function(t){t&&S(n)}}}function F(t){d(this,t),this._state=l(l(this.store._init(["courseId","i18n"]),{CourseColorClass:"",CourseId:null,CourseTitle:"",DeadlineDisplayTime:"",IconUrl:"",IsHomework:!1,IsPeerAssessment:!1,IsSelfAssessment:!1,ShowCourseTitle:!0,TaskId:null,TaskTitle:"",TaskUrl:""}),t.data),this.store._add(this,["courseId","i18n"]),this._recompute({CourseTitle:1,$courseId:1,TaskTitle:1,IsHomework:1,IsPeerAssessment:1,IsSelfAssessment:1,DeadlineDisplayTime:1,$i18n:1},this._state),this._intro=!0,this._handlers.destroy=[g],this._fragment=function(n,t){var s,i,o,r,a,c,u,l,f,d,m,h,p,_,v,g,T=!t.$courseId&&t.ShowCourseTitle&&j(n,t),k=t.IsHomework&&M(n,t),y=t.IsPeerAssessment&&t.IsSelfAssessment&&Y(n,t),$=t.IsPeerAssessment&&!t.IsSelfAssessment&&B(n,t),b=!t.IsPeerAssessment&&t.IsSelfAssessment&&W(n,t),w=t.DeadlineDisplayTime&&G(n,t),I=t.Status&&q(n,t),C=t.CompletedTaskAssessmentText&&z(n,t);return{c:function(){T&&T.c(),s=O("\r\n"),i=x("a"),o=x("div"),r=x("div"),a=x("img"),c=O("\r\n            "),u=x("span"),l=O(t.TaskTitle),f=O("\r\n    "),d=x("div"),k&&k.c(),m=O("\r\n        "),y&&y.c(),h=O("\r\n        "),$&&$.c(),p=O("\r\n        "),b&&b.c(),_=O("\r\n        "),w&&w.c(),v=O("\r\n        "),I&&I.c(),g=O("\r\n        "),C&&C.c(),a.alt="",D(a,"role","presentation"),a.src=t.IconUrl,r.className="tasklist2__task",o.className="tasklist2__taskwrapper",d.className="tasklist2__extra",i.href=t.TaskUrl,i.target=t.TaskUrlTarget,i.className="tasklist2__taskitem",D(i,"aria-label",t.label)},m:function(t,e){T&&T.m(t,e),A(t,s,e),A(t,i,e),N(i,o),N(o,r),N(r,a),N(r,c),N(r,u),N(u,l),N(i,f),N(i,d),k&&k.m(d,null),N(d,m),y&&y.m(d,null),N(d,h),$&&$.m(d,null),N(d,p),b&&b.m(d,null),N(d,_),w&&w.m(d,null),N(d,v),I&&I.m(d,null),N(d,g),C&&C.m(d,null)},p:function(t,e){!e.$courseId&&e.ShowCourseTitle?T?T.p(t,e):((T=j(n,e)).c(),T.m(s.parentNode,s)):T&&(T.d(1),T=null),t.IconUrl&&(a.src=e.IconUrl),t.TaskTitle&&P(l,e.TaskTitle),e.IsHomework?k?k.p(t,e):((k=M(n,e)).c(),k.m(d,m)):k&&(k.d(1),k=null),e.IsPeerAssessment&&e.IsSelfAssessment?y?y.p(t,e):((y=Y(n,e)).c(),y.m(d,h)):y&&(y.d(1),y=null),e.IsPeerAssessment&&!e.IsSelfAssessment?$?$.p(t,e):(($=B(n,e)).c(),$.m(d,p)):$&&($.d(1),$=null),!e.IsPeerAssessment&&e.IsSelfAssessment?b?b.p(t,e):((b=W(n,e)).c(),b.m(d,_)):b&&(b.d(1),b=null),e.DeadlineDisplayTime?w?w.p(t,e):((w=G(n,e)).c(),w.m(d,v)):w&&(w.d(1),w=null),e.Status?I?I.p(t,e):((I=q(n,e)).c(),I.m(d,g)):I&&(I.d(1),I=null),e.CompletedTaskAssessmentText?C?C.p(t,e):((C=z(n,e)).c(),C.m(d,null)):C&&(C.d(1),C=null),t.TaskUrl&&(i.href=e.TaskUrl),t.TaskUrlTarget&&(i.target=e.TaskUrlTarget),t.label&&D(i,"aria-label",e.label)},d:function(t){T&&T.d(t),t&&(S(s),S(i)),k&&k.d(),y&&y.d(),$&&$.d(),b&&b.d(),w&&w.d(),I&&I.d(),C&&C.d()}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor))}function J(t,e,n){var s=Object.create(t);return s.task=e[n],s}function K(i,t){for(var o,r=t.$completedTasks,a=[],e=0;e<r.length;e+=1)a[e]=V(i,J(t,r,e));return{c:function(){o=x("ul");for(var t=0;t<a.length;t+=1)a[t].c();o.className="tasklist2__list"},m:function(t,e){A(t,o,e);for(var n=0;n<a.length;n+=1)a[n].m(o,null)},p:function(t,e){if(t.$completedTasks){r=e.$completedTasks;for(var n=0;n<r.length;n+=1){var s=J(e,r,n);a[n]?a[n].p(t,s):(a[n]=V(i,s),a[n].c(),a[n].m(o,null))}for(;n<a.length;n+=1)a[n].d(1);a.length=r.length}},d:function(t){t&&S(o),m(a,t)}}}function Q(t,e){var n={msg:e.$i18n.noCompleted},s=new U({root:t.root,store:t.store,data:n});return{c:function(){s._fragment.c()},m:function(t,e){s._mount(t,e)},p:function(t,e){var n={};t.$i18n&&(n.msg=e.$i18n.noCompleted),s._set(n)},d:function(t){s.destroy(t)}}}function R(t,e){var n=new H({root:t.root,store:t.store});return{c:function(){n._fragment.c()},m:function(t,e){n._mount(t,e)},p:s,d:function(t){n.destroy(t)}}}function V(t,e){for(var n,s,i=[e.task],o={},r=0;r<i.length;r+=1)o=l(o,i[r]);var a=new F({root:t.root,store:t.store,data:o});return{c:function(){n=x("li"),a._fragment.c(),s=O("\r\n            ")},m:function(t,e){A(t,n,e),a._mount(n,null),N(n,s)},p:function(t,e){var n=t.$completedTasks?u(i,[e.task]):{};a._set(n)},d:function(t){t&&S(n),a.destroy()}}}function X(t){var e=this;d(this,t),this._state=l(l(this.store._init(["completedTasks","i18n"]),{isLoading:!0}),t.data),this.store._add(this,["completedTasks","i18n"]),this._intro=!0,this._handlers.destroy=[g],this._fragment=function(n,t){var s;function i(t){return t.isLoading?R:0===t.$completedTasks.length?Q:K}var o=i(t),r=o(n,t);return{c:function(){r.c(),s=a()},m:function(t,e){r.m(t,e),A(t,s,e)},p:function(t,e){o===(o=i(e))&&r?r.p(t,e):(r.d(1),(r=o(n,e)).c(),r.m(s.parentNode,s))},d:function(t){r.d(t),t&&S(s)}}}(this,this._state),this.root._oncreate.push(function(){(function(){var e=this,t=this.store.get().courseId;0===this.store.get().completedTasks.length?L(t).then(function(t){e.store.set({completedTasks:t}),e.set({isLoading:!1})}):this.set({isLoading:!1})}).call(e),e.fire("update",{changed:i({},e._state),current:e._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),f(this))}l(U.prototype,T),l(H.prototype,T),l(F.prototype,T),F.prototype._recompute=function(t,e){(t.CourseTitle||t.$courseId)&&this._differs(e.HomepageOnly_CourseTitle,e.HomepageOnly_CourseTitle=function(t){var e=t.CourseTitle;return t.$courseId?"":e+" "}(e))&&(t.HomepageOnly_CourseTitle=!0),(t.CourseTitle||t.TaskTitle||t.IsHomework||t.IsPeerAssessment||t.IsSelfAssessment||t.DeadlineDisplayTime||t.$i18n||t.$courseId)&&this._differs(e.label,e.label=function(t){var e=t.CourseTitle,n=t.TaskTitle,s=t.IsHomework,i=t.IsPeerAssessment,o=t.IsSelfAssessment,r=t.DeadlineDisplayTime,a=t.$i18n,c="";return t.$courseId||(c+="".concat(e," ")),c+="".concat(n," "),s&&(c+="".concat(a.homework," ")),i&&o&&(c+="".concat(a.assessPeersAndYourself," ")),i&&!o&&(c+="".concat(a.assessPeers," ")),!i&&o&&(c+="".concat(a.assessYourself," ")),r&&(c+="".concat(a.deadline," ").concat(r)),c}(e))&&(t.label=!0)},l(X.prototype,T);function Z(t,e,n){var s=Object.create(t);return s.item=e[n],s}function tt(t,e){var n,s,i,o,r,a,c,u,l=e.items.length;return{c:function(){n=x("div"),s=x("div"),i=x("span"),o=O(e.headerText),r=O("\n                "),a=x("span"),c=O(l),i.className="prom-collapsible-list__buttontext",a.className="prom-collapsible-list__buttoncounter",s.className="prom-collapsible-list__innerbutton",n.className="prom-collapsible-list__button",n.id=u=e.id+"__button",n.tabIndex="0"},m:function(t,e){A(t,n,e),N(n,s),N(s,i),N(i,o),N(s,r),N(s,a),N(a,c)},p:function(t,e){t.headerText&&P(o,e.headerText),t.items&&l!==(l=e.items.length)&&P(c,l),t.id&&u!==(u=e.id+"__button")&&(n.id=u)},d:function(t){t&&S(n)}}}function et(e,t){var n,s,i,o,r,a,c,u,l,f,d,m=t.items.length;function h(t){e.toggle(t)}return{c:function(){n=x("button"),s=x("div"),i=x("span"),o=O("\n                "),r=x("span"),a=O(t.headerText),c=O("\n                "),u=x("span"),l=O(m),i.className="prom-collapsible-list__buttontoggle",r.className="prom-collapsible-list__buttontext",u.className="prom-collapsible-list__buttoncounter",s.className="prom-collapsible-list__innerbutton",p(n,"click",h),n.className="prom-collapsible-list__button",n.id=f=t.id+"__button",n.type="button",D(n,"aria-expanded",t.isOpen),D(n,"aria-controls",d=t.id+"__list")},m:function(t,e){A(t,n,e),N(n,s),N(s,i),N(s,o),N(s,r),N(r,a),N(s,c),N(s,u),N(u,l)},p:function(t,e){t.headerText&&P(a,e.headerText),t.items&&m!==(m=e.items.length)&&P(l,m),t.id&&f!==(f=e.id+"__button")&&(n.id=f),t.isOpen&&D(n,"aria-expanded",e.isOpen),t.id&&d!==(d=e.id+"__list")&&D(n,"aria-controls",d)},d:function(t){t&&S(n),_(n,"click",h)}}}function nt(i,e){for(var o,r,a,s,c,u,l,f=e.items,d=[],t=0;t<f.length;t+=1)d[t]=st(i,Z(e,f,t));return{c:function(){o=x("a"),r=O(e.skipText),s=O("\n    "),c=x("ul");for(var t=0;t<d.length;t+=1)d[t].c();D(o,"aria-hidden",a=!e.isOpen),o.className="prom-collapsible-skiplist",o.href=e.skipTarget,c.className="prom-collapsible-list__list",c.id=u=e.id+"__list",D(c,"aria-hidden",l=!e.isOpen)},m:function(t,e){A(t,o,e),N(o,r),A(t,s,e),A(t,c,e);for(var n=0;n<d.length;n+=1)d[n].m(c,null);i.refs.list=c},p:function(t,e){if(t.skipText&&P(r,e.skipText),t.isOpen&&a!==(a=!e.isOpen)&&D(o,"aria-hidden",a),t.skipTarget&&(o.href=e.skipTarget),t.itemType||t.items){f=e.items;for(var n=0;n<f.length;n+=1){var s=Z(e,f,n);d[n]?d[n].p(t,s):(d[n]=st(i,s),d[n].c(),d[n].m(c,null))}for(;n<d.length;n+=1)d[n].d(1);d.length=f.length}t.id&&u!==(u=e.id+"__list")&&(c.id=u),t.isOpen&&l!==(l=!e.isOpen)&&D(c,"aria-hidden",l)},d:function(t){t&&(S(o),S(s),S(c)),m(d,t),i.refs.list===c&&(i.refs.list=null)}}}function st(n,t){var s,i,o=[t.item],r=t.itemType;function a(){for(var t={},e=0;e<o.length;e+=1)t=l(t,o[e]);return{root:n.root,store:n.store,data:t}}if(r)var c=new r(a());return{c:function(){s=x("li"),c&&c._fragment.c(),i=O("\n        ")},m:function(t,e){A(t,s,e),c&&c._mount(s,null),N(s,i)},p:function(t,e){var n=t.items?u(o,[e.item]):{};r!==(r=e.itemType)?(c&&c.destroy(),r?((c=new r(a()))._fragment.c(),c._mount(s,i)):c=null):r&&c._set(n)},d:function(t){t&&S(s),c&&c.destroy()}}}function it(t){d(this,t),this.refs={},this._state=l({headerText:"",id:"",isOpen:!1,items:[],itemType:null,skipTarget:"",skipText:""},t.data),this._recompute({isOpen:1},this._state),this._intro=!0,this._fragment=function(n,t){var s,i,o;function r(t){return 0!==t.items.length?et:tt}var a=r(t),c=a(n,t),u=0!==t.items.length&&nt(n,t);return{c:function(){s=x("section"),i=x("div"),c.c(),o=O("\n    "),u&&u.c(),i.className="prom-collapsible-list__buttonwrapper",s.className=t.cssClass,s.id=t.id},m:function(t,e){A(t,s,e),N(s,i),c.m(i,null),N(s,o),u&&u.m(s,null)},p:function(t,e){a===(a=r(e))&&c?c.p(t,e):(c.d(1),(c=a(n,e)).c(),c.m(i,null)),0!==e.items.length?u?u.p(t,e):((u=nt(n,e)).c(),u.m(s,null)):u&&(u.d(1),u=null),t.cssClass&&(s.className=e.cssClass),t.id&&(s.id=e.id)},d:function(t){t&&S(s),c.d(),u&&u.d()}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),f(this))}l(it.prototype,T),l(it.prototype,{toggle:function(t){t.preventDefault();var e=this.get().isOpen;this.set({isOpen:!e})}}),it.prototype._recompute=function(t,e){t.isOpen&&this._differs(e.cssClass,e.cssClass=function(t){return t.isOpen?"prom-collapsible-list prom-collapsible-list--open":"prom-collapsible-list"}(e))&&(t.cssClass=!0)};var ot=function(t,e){return e===t.length-1?"#tasklist2_backto":"#tasklist2_section-".concat(e+1,"__button")};function rt(t,e,n){var s=Object.create(t);return s.section=e[n],s.i=n,s}function at(i,t){for(var o,s,r,a=t.$sections[0].BackToText,c=t.$sections,u=[],e=0;e<c.length;e+=1)u[e]=lt(i,rt(t,c,e));return{c:function(){for(var t=0;t<u.length;t+=1)u[t].c();o=O("\r\n    "),s=x("a"),r=O(a),s.className="tasklist2_backto",s.href="#tasklist2_section-0__button",s.id="tasklist2_backto"},m:function(t,e){for(var n=0;n<u.length;n+=1)u[n].m(t,e);A(t,o,e),A(t,s,e),N(s,r)},p:function(t,e){if(t.$sections||t.SectionItem||t.$i18n){c=e.$sections;for(var n=0;n<c.length;n+=1){var s=rt(e,c,n);u[n]?u[n].p(t,s):(u[n]=lt(i,s),u[n].c(),u[n].m(o.parentNode,o))}for(;n<u.length;n+=1)u[n].d(1);u.length=c.length}t.$sections&&a!==(a=e.$sections[0].BackToText)&&P(r,a)},d:function(t){m(u,t),t&&(S(o),S(s))}}}function ct(t,e){var n={msg:e.$i18n.emptyState},s=new U({root:t.root,store:t.store,data:n});return{c:function(){s._fragment.c()},m:function(t,e){s._mount(t,e)},p:function(t,e){var n={};t.$i18n&&(n.msg=e.$i18n.emptyState),s._set(n)},d:function(t){s.destroy(t)}}}function ut(t,e){var n=new H({root:t.root,store:t.store});return{c:function(){n._fragment.c()},m:function(t,e){n._mount(t,e)},p:s,d:function(t){n.destroy(t)}}}function lt(t,e){var n={headerText:e.section.SectionTitle,id:"tasklist2_section-"+e.i,isOpen:e.section.StartOpen,items:e.section.TaskDailyWorkflow.EntityArray,itemType:e.SectionItem,skipTarget:ot(e.$sections,e.i),skipText:e.$i18n.skipList},s=new it({root:t.root,store:t.store,data:n});return{c:function(){s._fragment.c()},m:function(t,e){s._mount(t,e)},p:function(t,e){var n={};t.$sections&&(n.headerText=e.section.SectionTitle),t.$sections&&(n.isOpen=e.section.StartOpen),t.$sections&&(n.items=e.section.TaskDailyWorkflow.EntityArray),t.SectionItem&&(n.itemType=e.SectionItem),t.$sections&&(n.skipTarget=ot(e.$sections,e.i)),t.$i18n&&(n.skipText=e.$i18n.skipList),s._set(n)},d:function(t){s.destroy(t)}}}function ft(t){var e=this;d(this,t),this._state=l(l(this.store._init(["sections","i18n"]),{isLoading:!0,SectionItem:F}),t.data),this.store._add(this,["sections","i18n"]),this._intro=!0,this._handlers.destroy=[g],this._fragment=function(n,t){var s;function i(t){return t.isLoading?ut:0===t.$sections.length?ct:at}var o=i(t),r=o(n,t);return{c:function(){r.c(),s=a()},m:function(t,e){r.m(t,e),A(t,s,e)},p:function(t,e){o===(o=i(e))&&r?r.p(t,e):(r.d(1),(r=o(n,e)).c(),r.m(s.parentNode,s))},d:function(t){r.d(t),t&&S(s)}}}(this,this._state),this.root._oncreate.push(function(){(function(){var e=this,t=this.store.get(),n=t.courseId,s=t.viewAsMode;0===this.store.get().sections.length?(s?E:C)(n).then(function(t){t.forEach(function(t){var n=t.TaskDailyWorkflow.EntityArray;n.forEach(function(t,e){t.ShowCourseTitle=0===e||t.CourseId!==n[e-1].CourseId})}),e.store.set({sections:t}),e.set({isLoading:!1})}):this.set({isLoading:!1})}).call(e),e.fire("update",{changed:i({},e._state),current:e._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),f(this))}function dt(e,t){var n,s,i,o,r,a,c,u,l,f=t.$i18n.todo,d=t.$i18n.completed;function m(t){e.set({viewingTodo:!0})}function h(t){e.set({viewingTodo:!1})}return{c:function(){n=x("button"),s=x("span"),i=O(f),r=O("\r\n        "),a=x("button"),c=x("span"),u=O(d),p(n,"click",m),n.className=o=t.viewingTodo?"active":"",n.type="button",p(a,"click",h),a.className=l=t.viewingTodo?"":"active",a.type="button"},m:function(t,e){A(t,n,e),N(n,s),N(s,i),A(t,r,e),A(t,a,e),N(a,c),N(c,u)},p:function(t,e){t.$i18n&&f!==(f=e.$i18n.todo)&&P(i,f),t.viewingTodo&&o!==(o=e.viewingTodo?"active":"")&&(n.className=o),t.$i18n&&d!==(d=e.$i18n.completed)&&P(u,d),t.viewingTodo&&l!==(l=e.viewingTodo?"":"active")&&(a.className=l)},d:function(t){t&&S(n),_(n,"click",m),t&&(S(r),S(a)),_(a,"click",h)}}}function mt(t,e){var n=new X({root:t.root,store:t.store});return{c:function(){n._fragment.c()},m:function(t,e){n._mount(t,e)},d:function(t){n.destroy(t)}}}function ht(t,e){var n=new ft({root:t.root,store:t.store});return{c:function(){n._fragment.c()},m:function(t,e){n._mount(t,e)},d:function(t){n.destroy(t)}}}function pt(t){d(this,t),this._state=l(l(this.store._init(["i18n","courseId","viewAsMode"]),{viewingTodo:!0}),t.data),this.store._add(this,["i18n","courseId","viewAsMode"]),this._intro=!0,this._handlers.destroy=[g],this._fragment=function(n,t){var s,i,o,r,a,c,u=t.$i18n.tasks,l=t.$courseId&&!t.$viewAsMode&&dt(n,t);function f(t){return t.viewingTodo?ht:mt}var d=f(t),m=d(n,t);return{c:function(){s=x("div"),i=x("h2"),o=O(u),r=O("\r\n    "),l&&l.c(),a=O("\r\n"),c=x("div"),m.c(),s.className="tasklist2_header",c.className="tasklist2_container"},m:function(t,e){A(t,s,e),N(s,i),N(i,o),N(s,r),l&&l.m(s,null),A(t,a,e),A(t,c,e),m.m(c,null)},p:function(t,e){t.$i18n&&u!==(u=e.$i18n.tasks)&&P(o,u),e.$courseId&&!e.$viewAsMode?l?l.p(t,e):((l=dt(n,e)).c(),l.m(s,null)):l&&(l.d(1),l=null),d!==(d=f(e))&&(m.d(1),(m=d(n,e)).c(),m.m(c,null))},d:function(t){t&&S(s),l&&l.d(),t&&(S(a),S(c)),m.d()}}}(this,this._state),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),f(this))}l(ft.prototype,T),l(pt.prototype,T),document.addEventListener("DOMContentLoaded",function(){var t=document.getElementById("tasklist"),e=function(t){var e=0<arguments.length&&void 0!==t?t:{};return new k({courseId:e.locationID,completedTasks:[],i18n:e.i18n,viewAsMode:e.viewAsMode,overdue:[],sections:[],today:[],tomorrow:[],later:[]})}(window.TaskList);new pt({target:t,store:e}),window.store=e})}();
